<html>
    <head>
        <script
          src="https://code.jquery.com/jquery-3.2.1.min.js"
          integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
          crossorigin="anonymous"></script>
        <script src="../Project/update_method.js"></script>
        
    </head>
    <body>
        <h1>Battle 2 (update method)</h1>
        <a href="../../index.html">Back to All</a>
        <br>
        <button onclick="add_plant()">Add Plant</button>
        <div id="main"></div>
        <script>

            function add_plant() {
                // Add plant to update
                console.log("Adding plant.");
                element = document.getElementById("main");
                sub_plant(element);
            }
            function sub_plant(element) {
                // create plant in HTML
                element.innerHTML += "<p id='" + plants.length.toString() + "'>Plant #" + plants.length.toString() + ". Size = 1</p>";
                var p = new plant(plants.length);

                // subscribe plant
                // should be subscribing, but doesn't work properly with class
                // should be something like $.Topic( "update" ).subscribe( p.grow );
                // doesn't properly reference member variables of class :(
                plants.push(p);
            }
            
        </script>
    </body>
    
</html>